import{a as S}from"./chunk-QLG4FWWB.js";import{a as C}from"./chunk-6XMSGHPI.js";import{Ba as g,Ha as b,Ja as e,Ka as t,Ma as f,Na as x,Oa as _,Pa as n,Qa as s,W as c,X as p,kb as P,mb as v,pa as a,ta as u,xa as h}from"./chunk-TSBR3PYF.js";function O(r,o){if(r&1){let i=f();e(0,"tr")(1,"td"),n(2),t(),e(3,"td"),n(4),t(),e(5,"td")(6,"button",4),x("click",function(){let d=c(i).$implicit,l=_();return p(l.deleteUser(d.id))}),n(7,"Eliminar"),t()()()}if(r&2){let i=o.$implicit;a(2),s(i.username),a(2),s(i.role)}}function w(r,o){if(r&1){let i=f();e(0,"tr")(1,"td"),n(2),t(),e(3,"td"),n(4),t(),e(5,"td")(6,"button",4),x("click",function(){let d=c(i).$implicit,l=_();return p(l.deletePost(d.id))}),n(7,"Eliminar"),t()()()}if(r&2){let i=o.$implicit;a(2),s(i.title),a(2),s(i.category)}}var E=class r{constructor(o,i){this.userService=o;this.postService=i}users=[];posts=[];ngOnInit(){this.loadUsers(),this.loadPosts()}loadUsers(){this.userService.getUsers().subscribe(o=>this.users=o)}deleteUser(o){confirm("\xBFEliminar este usuario?")&&this.userService.deleteUser(o).subscribe(()=>this.loadUsers())}loadPosts(){this.postService.getPosts().subscribe(o=>this.posts=o)}deletePost(o){confirm("\xBFEliminar esta publicaci\xF3n?")&&this.postService.deletePost(o).subscribe(()=>this.loadPosts())}static \u0275fac=function(i){return new(i||r)(u(S),u(C))};static \u0275cmp=h({type:r,selectors:[["app-admin-panel"]],decls:32,vars:2,consts:[[1,"full-bg"],[1,"admin-panel"],[1,"admin-section"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(i,m){i&1&&(e(0,"div",0)(1,"div",1)(2,"h2"),n(3,"Panel de Administraci\xF3n"),t(),e(4,"section",2)(5,"h3"),n(6,"Usuarios Registrados"),t(),e(7,"table")(8,"thead")(9,"tr")(10,"th"),n(11,"Usuario"),t(),e(12,"th"),n(13,"Rol"),t(),e(14,"th"),n(15,"Acciones"),t()()(),e(16,"tbody"),g(17,O,8,2,"tr",3),t()()(),e(18,"section",2)(19,"h3"),n(20,"Publicaciones del Foro"),t(),e(21,"table")(22,"thead")(23,"tr")(24,"th"),n(25,"T\xEDtulo"),t(),e(26,"th"),n(27,"Categor\xEDa"),t(),e(28,"th"),n(29,"Acciones"),t()()(),e(30,"tbody"),g(31,w,8,2,"tr",3),t()()()()()),i&2&&(a(17),b("ngForOf",m.users),a(14),b("ngForOf",m.posts))},dependencies:[v,P],styles:[".admin-panel[_ngcontent-%COMP%]{width:100%;max-width:1100px;margin:2rem auto;padding:1rem;background:#1e1e2f;border-radius:12px;box-shadow:0 4px 12px #0003;color:#f0f0f0;box-sizing:border-box}.admin-section[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#2a2a3c;border-radius:10px;box-shadow:0 2px 6px #0000004d;overflow-x:auto}.admin-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;min-width:600px;border-collapse:separate;border-spacing:0 10px}th[_ngcontent-%COMP%]{background-color:#3a3a4d;padding:.8rem;text-align:left;font-weight:600;color:#f0f0f0;border-bottom:2px solid #4b4b60}td[_ngcontent-%COMP%]{background-color:#2f2f41;padding:.8rem;border-bottom:1px solid #444;color:#c7c7c7}button[_ngcontent-%COMP%]{padding:.4rem .8rem;background-color:#e53935;color:#fff;border:none;border-radius:6px;font-size:.9rem;font-weight:600;cursor:pointer;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#c62828}@media (max-width: 768px){.admin-panel[_ngcontent-%COMP%]{margin:1rem}.admin-section[_ngcontent-%COMP%]{margin-top:1rem;padding:.8rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.6rem;font-size:.9rem}}"]})};export{E as AdminPanelComponent};
