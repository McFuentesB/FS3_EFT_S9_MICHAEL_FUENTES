import{a as E}from"./chunk-QLG4FWWB.js";import{a as _,b as h,c as P,d as S,e as w,f as O,g as y,h as x,i as v,j as z,k as N}from"./chunk-HBGBLJMN.js";import{Ja as e,Ka as r,Na as C,Pa as i,Sa as m,Ta as s,Ua as d,a as p,b as u,mb as M,pa as l,ta as f,xa as b}from"./chunk-TSBR3PYF.js";var I=class c{constructor(t){this.userService=t}id=0;username="";password="";role="";ngOnInit(){let t=JSON.parse(localStorage.getItem("user")||"{}");this.id=t.id,this.username=t.username,this.password=t.password,this.role=t.role}updateProfile(){let t={username:this.username,password:this.password,role:this.role};this.userService.updateUser(this.id,t).subscribe(()=>{alert("Perfil actualizado correctamente");let a=u(p({},t),{id:this.id});localStorage.setItem("user",JSON.stringify(a))})}static \u0275fac=function(a){return new(a||c)(f(E))};static \u0275cmp=b({type:c,selectors:[["app-profile"]],decls:20,vars:3,consts:[[1,"full-bg"],[1,"profile-container"],[3,"ngSubmit"],["type","text","name","username","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["name","role","required","",3,"ngModelChange","ngModel"],["value","USER"],["value","ADMIN"],["type","submit"]],template:function(a,o){a&1&&(e(0,"div",0)(1,"div",1)(2,"h2"),i(3,"Mi Perfil"),r(),e(4,"form",2),C("ngSubmit",function(){return o.updateProfile()}),e(5,"label"),i(6,"Nombre de usuario:"),r(),e(7,"input",3),d("ngModelChange",function(n){return s(o.username,n)||(o.username=n),n}),r(),e(8,"label"),i(9,"Contrase\xF1a:"),r(),e(10,"input",4),d("ngModelChange",function(n){return s(o.password,n)||(o.password=n),n}),r(),e(11,"label"),i(12,"Rol:"),r(),e(13,"select",5),d("ngModelChange",function(n){return s(o.role,n)||(o.role=n),n}),e(14,"option",6),i(15,"Usuario"),r(),e(16,"option",7),i(17,"Administrador"),r()(),e(18,"button",8),i(19,"Guardar Cambios"),r()()()()),a&2&&(l(7),m("ngModel",o.username),l(3),m("ngModel",o.password),l(3),m("ngModel",o.role))},dependencies:[M,N,O,x,v,_,y,h,P,z,w,S],styles:[".profile-container[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:5rem auto;padding:2rem 1.5rem;border-radius:12px;background-color:#2a2a3c;box-shadow:0 4px 12px #00000040;color:#f0f0f0;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;box-sizing:border-box}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;font-size:2rem;color:#fff}label[_ngcontent-%COMP%]{display:block;margin-top:1rem;margin-bottom:.3rem;font-weight:700;color:#dcdcdc}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:.8rem;margin-bottom:1rem;border:none;border-radius:6px;background-color:#3a3a4d;color:#f0f0f0;font-size:1rem;box-sizing:border-box}input[_ngcontent-%COMP%]::placeholder{color:#c7c7c7}button[_ngcontent-%COMP%]{margin-top:2rem;width:100%;padding:.9rem;background-color:#28a745;color:#fff;font-weight:700;font-size:1rem;border:none;border-radius:6px;cursor:pointer;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#218838}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;background-color:#1e1e2f;overflow-x:hidden}.full-bg[_ngcontent-%COMP%]{min-height:100vh;background-color:#1e1e2f;padding:2rem 1rem;box-sizing:border-box}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%]{margin:3rem auto;padding:1.5rem 1rem}h2[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:1.2rem}label[_ngcontent-%COMP%]{font-size:.95rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:.7rem;font-size:.95rem}button[_ngcontent-%COMP%]{padding:.8rem;font-size:.95rem}}@media (max-width: 480px){.profile-container[_ngcontent-%COMP%]{margin:2rem auto;padding:1rem .8rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}label[_ngcontent-%COMP%]{font-size:.9rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:.6rem;font-size:.9rem;margin-bottom:.8rem}button[_ngcontent-%COMP%]{padding:.7rem;font-size:.9rem}}"]})};export{I as ProfileComponent};
